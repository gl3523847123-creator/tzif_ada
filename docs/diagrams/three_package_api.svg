<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="1771px" preserveAspectRatio="none" style="width:2939px;height:1771px;background:#FFFFFF;" version="1.1" viewBox="0 0 2939 1771" width="2939px" zoomAndPan="magnify"><title>Three-Package API Pattern
SPARK Verification + Platform Flexibility</title><defs/><g><g class="title" data-source-line="6"><text fill="#000000" font-family="Verdana" font-size="22" font-weight="bold" lengthAdjust="spacing" textLength="336.9287" x="1296.5356" y="37.1182">Three-Package API Pattern</text><text fill="#000000" font-family="Verdana" font-size="22" font-weight="bold" lengthAdjust="spacing" textLength="502.7236" x="1213.6382" y="63.8555">SPARK Verification + Platform Flexibility</text></g><!--cluster Consumer--><g class="cluster" data-entity="Consumer" data-source-line="8" data-uid="ent0002" id="cluster_Consumer"><path d="M549.5,85.4746 L722.7041,85.4746 A3.75,3.75 0 0 1 725.2041,87.9746 L732.2041,108.4893 L1088.5,108.4893 A2.5,2.5 0 0 1 1091,110.9893 L1091,255.5646 A2.5,2.5 0 0 1 1088.5,258.0646 L549.5,258.0646 A2.5,2.5 0 0 1 547,255.5646 L547,87.9746 A2.5,2.5 0 0 1 549.5,85.4746" fill="#E0FFE0" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="547" x2="732.2041" y1="108.4893" y2="108.4893"/><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="172.2041" x="551" y="101.5498">Consumer Application</text></g><!--cluster APILayer--><g class="cluster" data-entity="APILayer" data-source-line="21" data-uid="ent0007" id="cluster_APILayer"><path d="M509.5,282.0646 L587.6982,282.0646 A3.75,3.75 0 0 1 590.1982,284.5646 L597.1982,305.0793 L1837.5,305.0793 A2.5,2.5 0 0 1 1840,307.5793 L1840,889.7546 A2.5,2.5 0 0 1 1837.5,892.2546 L509.5,892.2546 A2.5,2.5 0 0 1 507,889.7546 L507,284.5646 A2.5,2.5 0 0 1 509.5,282.0646" fill="#FFEBCD" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="507" x2="597.1982" y1="305.0793" y2="305.0793"/><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="77.1982" x="511" y="298.1398">API Layer</text></g><!--cluster APIFacade--><g class="cluster" data-entity="APIFacade" data-source-line="23" data-uid="ent0008" id="cluster_APIFacade"><path d="M533.5,326.0646 L677.4668,326.0646 A3.75,3.75 0 0 1 679.9668,328.5646 L686.9668,349.0793 L1020.5,349.0793 A2.5,2.5 0 0 1 1023,351.5793 L1023,464.5646 A2.5,2.5 0 0 1 1020.5,467.0646 L533.5,467.0646 A2.5,2.5 0 0 1 531,464.5646 L531,328.5646 A2.5,2.5 0 0 1 533.5,326.0646" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="531" x2="686.9668" y1="349.0793" y2="349.0793"/><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="142.9668" x="535" y="342.1398">API (Thin Facade)</text></g><!--cluster Roots--><g class="cluster" data-entity="Roots" data-source-line="34" data-uid="ent0013" id="cluster_Roots"><path d="M533.5,526.6646 L681.9375,526.6646 A3.75,3.75 0 0 1 684.4375,529.1646 L691.4375,549.6793 L1813.5,549.6793 A2.5,2.5 0 0 1 1816,552.1793 L1816,649.3646 A2.5,2.5 0 0 1 1813.5,651.8646 L533.5,651.8646 A2.5,2.5 0 0 1 531,649.3646 L531,529.1646 A2.5,2.5 0 0 1 533.5,526.6646" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="531" x2="691.4375" y1="549.6793" y2="549.6793"/><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="147.4375" x="535" y="542.7398">Composition Roots</text></g><!--cluster SPARKOps--><g class="cluster" data-entity="SPARKOps" data-source-line="57" data-uid="ent0026" id="cluster_SPARKOps"><path d="M1388.5,711.4546 L1574.6855,711.4546 A3.75,3.75 0 0 1 1577.1855,713.9546 L1584.1855,734.4693 L1801.5,734.4693 A2.5,2.5 0 0 1 1804,736.9693 L1804,865.7546 A2.5,2.5 0 0 1 1801.5,868.2546 L1388.5,868.2546 A2.5,2.5 0 0 1 1386,865.7546 L1386,713.9546 A2.5,2.5 0 0 1 1388.5,711.4546" fill="#CCFFCC" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="1386" x2="1584.1855" y1="734.4693" y2="734.4693"/><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="185.1855" x="1390" y="727.5298">SPARK-Safe Operations</text></g><!--cluster InfraLayer--><g class="cluster" data-entity="InfraLayer" data-source-line="70" data-uid="ent0031" id="cluster_InfraLayer"><path d="M2378.5,740.3546 L2540.2266,740.3546 A3.75,3.75 0 0 1 2542.7266,742.8546 L2549.7266,763.3693 L2929.5,763.3693 A2.5,2.5 0 0 1 2932,765.8693 L2932,836.8646 A2.5,2.5 0 0 1 2929.5,839.3646 L2378.5,839.3646 A2.5,2.5 0 0 1 2376,836.8646 L2376,742.8546 A2.5,2.5 0 0 1 2378.5,740.3546" fill="#E6F3FF" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="2376" x2="2549.7266" y1="763.3693" y2="763.3693"/><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="160.7266" x="2380" y="756.4298">Infrastructure Layer</text></g><!--cluster AppLayer--><g class="cluster" data-entity="AppLayer" data-source-line="76" data-uid="ent0035" id="cluster_AppLayer"><path d="M1936.5,916.2546 L2074.2803,916.2546 A3.75,3.75 0 0 1 2076.7803,918.7546 L2083.7803,939.2693 L2389.5,939.2693 A2.5,2.5 0 0 1 2392,941.7693 L2392,1012.7746 A2.5,2.5 0 0 1 2389.5,1015.2746 L1936.5,1015.2746 A2.5,2.5 0 0 1 1934,1012.7746 L1934,918.7546 A2.5,2.5 0 0 1 1936.5,916.2546" fill="#E8F5E9" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="1934" x2="2083.7803" y1="939.2693" y2="939.2693"/><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="136.7803" x="1938" y="932.3298">Application Layer</text></g><!--cluster DomainLayer--><g class="cluster" data-entity="DomainLayer" data-source-line="82" data-uid="ent0039" id="cluster_DomainLayer"><path d="M1924.5,1043.2746 L2034.082,1043.2746 A3.75,3.75 0 0 1 2036.582,1045.7746 L2043.582,1066.2893 L2288.5,1066.2893 A2.5,2.5 0 0 1 2291,1068.7893 L2291,1139.7846 A2.5,2.5 0 0 1 2288.5,1142.2846 L1924.5,1142.2846 A2.5,2.5 0 0 1 1922,1139.7846 L1922,1045.7746 A2.5,2.5 0 0 1 1924.5,1043.2746" fill="#FFF9E6" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="1922" x2="2043.582" y1="1066.2893" y2="1066.2893"/><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="108.582" x="1926" y="1059.3498">Domain Layer</text></g><!--entity Main--><g class="entity" data-entity="Main" data-source-line="9" data-uid="ent0003" id="entity_Main"><rect fill="#FFFFFF" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="148.2744" x="562.86" y="158.2646"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="691.1344" y="163.2646"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="689.1344" y="165.2646"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="689.1344" y="169.2646"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="108.2744" x="577.86" y="192.3398">Main Procedure</text></g><g class="entity" data-entity="GMN4" data-source-line="11" data-uid="ent0005" id="entity_GMN4"><path d="M771.27,121.4746 L771.27,177.2846 L711.4,181.2846 L771.27,185.2846 L771.27,242.0698 A0,0 0 0 0 771.27,242.0698 L1074.728,242.0698 A0,0 0 0 0 1074.728,242.0698 L1074.728,131.4746 L1064.728,121.4746 L771.27,121.4746 A0,0 0 0 0 771.27,121.4746" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1064.728,121.4746 L1064.728,131.4746 L1074.728,131.4746 L1064.728,121.4746" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="48.5088" x="777.27" y="139.5444">```ada</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="167.959" x="777.27" y="155.3438">with Tzif.API;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="163.1475" x="777.27" y="171.1431">use Tzif.API;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="4.5703" x="777.27" y="186.9424">&#160;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="282.458" x="777.27" y="202.7417">Cmd := Create_Greet_Command ("Alice");</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="154.4956" x="777.27" y="218.541">Result := Greet (Cmd);</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="24.7939" x="777.27" y="234.3403">```</text></g><!--entity API--><g class="entity" data-entity="API" data-source-line="24" data-uid="ent0009" id="entity_API"><rect fill="#FFE4B5" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="179.9248" x="547.04" y="383.0546"/><rect fill="#FFE4B5" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="706.9648" y="388.0546"/><rect fill="#FFE4B5" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="704.9648" y="390.0546"/><rect fill="#FFE4B5" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="704.9648" y="394.0546"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="139.9248" x="562.04" y="417.1298">Tzif.API</text></g><g class="entity" data-entity="GMN10" data-source-line="26" data-uid="ent0011" id="entity_GMN10"><path d="M787.39,362.0646 L787.39,402.2846 L727.21,406.2846 L787.39,410.2846 L787.39,451.0612 A0,0 0 0 0 787.39,451.0612 L1006.6019,451.0612 A0,0 0 0 0 1006.6019,451.0612 L1006.6019,372.0646 L996.6019,362.0646 L787.39,362.0646 A0,0 0 0 0 787.39,362.0646" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M996.6019,362.0646 L996.6019,372.0646 L1006.6019,372.0646 L996.6019,362.0646" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="128.9653" x="793.39" y="380.1344">SPARK_Mode: Off</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="176.7568" x="793.39" y="395.9337">- Re-exports Domain types</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="198.2119" x="793.39" y="411.7331">- Re-exports Application types</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="191.3945" x="793.39" y="427.5324">- Delegates Greet to Desktop</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="135.4844" x="793.39" y="443.3317">- Single import point</text></g><!--entity Desktop--><g class="entity" data-entity="Desktop" data-source-line="35" data-uid="ent0014" id="entity_Desktop"><rect fill="#FFD699" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="126.4404" x="546.78" y="575.7546"/><rect fill="#FFD699" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="653.2204" y="580.7546"/><rect fill="#FFD699" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="651.2204" y="582.7546"/><rect fill="#FFD699" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="651.2204" y="586.7546"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="86.4404" x="561.78" y="609.8298">API.Desktop</text></g><!--entity Embedded--><g class="entity" data-entity="Embedded" data-source-line="36" data-uid="ent0015" id="entity_Embedded"><rect fill="#FFD699" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="143.0381" x="1403.48" y="575.7546"/><rect fill="#FFD699" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="1526.5181" y="580.7546"/><rect fill="#FFD699" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1524.5181" y="582.7546"/><rect fill="#FFD699" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1524.5181" y="586.7546"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="103.0381" x="1418.48" y="609.8298">API.Embedded</text></g><!--entity Web--><g class="entity" data-entity="Web" data-source-line="37" data-uid="ent0016" id="entity_Web"><rect fill="#FFD699" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="99.9033" x="733.05" y="575.7546"/><rect fill="#FFD699" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="812.9533" y="580.7546"/><rect fill="#FFD699" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="810.9533" y="582.7546"/><rect fill="#FFD699" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="810.9533" y="586.7546"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="59.9033" x="748.05" y="609.8298">API.Web</text></g><g class="entity" data-entity="GMN17" data-source-line="40" data-uid="ent0018" id="entity_GMN17"><path d="M893.09,562.6646 L893.09,635.8619 L1114.9045,635.8619 L1114.9045,572.6646 L1104.9045,562.6646 L893.09,562.6646" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1104.9045,562.6646 L1104.9045,572.6646 L1114.9045,572.6646 L1104.9045,562.6646" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="128.9653" x="899.09" y="580.7344">SPARK_Mode: Off</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="151.3472" x="899.09" y="596.5337">- Wires Console_Writer</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="200.8145" x="899.09" y="612.3331">- Composition root for desktop</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="152.3057" x="899.09" y="628.1324">- arch_guard exception</text></g><g class="entity" data-entity="GMN20" data-source-line="47" data-uid="ent0021" id="entity_GMN20"><path d="M1606.13,578.4646 L1606.13,595.2846 L1546.83,599.2846 L1606.13,603.2846 L1606.13,620.0632 A0,0 0 0 0 1606.13,620.0632 L1799.8751,620.0632 A0,0 0 0 0 1799.8751,620.0632 L1799.8751,588.4646 L1789.8751,578.4646 L1606.13,578.4646 A0,0 0 0 0 1606.13,578.4646" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1789.8751,578.4646 L1789.8751,588.4646 L1799.8751,588.4646 L1789.8751,578.4646" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="153.1816" x="1612.13" y="596.5344">Future: UART_Writer</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="172.7451" x="1612.13" y="612.3337">STM32, embedded targets</text></g><g class="entity" data-entity="GMN23" data-source-line="52" data-uid="ent0024" id="entity_GMN23"><path d="M1174.67,578.4646 L1174.67,620.0632 L1343.3355,620.0632 L1343.3355,588.4646 L1333.3355,578.4646 L1174.67,578.4646" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1333.3355,578.4646 L1333.3355,588.4646 L1343.3355,588.4646 L1333.3355,578.4646" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="147.6655" x="1180.67" y="596.5344">Future: DOM_Writer</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="141.667" x="1180.67" y="612.3337">WebAssembly targets</text></g><!--entity Operations--><g class="entity" data-entity="Operations" data-source-line="58" data-uid="ent0027" id="entity_Operations"><rect fill="#FFFFFF" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="145.4717" x="1402.26" y="776.3546"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="1527.7317" y="781.3546"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1525.7317" y="783.3546"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1525.7317" y="787.3546"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="105.4717" x="1417.26" y="810.4298">API.Operations</text></g><g class="entity" data-entity="GMN28" data-source-line="60" data-uid="ent0029" id="entity_GMN28"><path d="M1608.17,747.4546 L1608.17,796.2846 L1548.02,800.2846 L1608.17,804.2846 L1608.17,852.2505 A0,0 0 0 0 1608.17,852.2505 L1787.8233,852.2505 A0,0 0 0 0 1787.8233,852.2505 L1787.8233,757.4546 L1777.8233,747.4546 L1608.17,747.4546 A0,0 0 0 0 1608.17,747.4546" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1777.8233,747.4546 L1777.8233,757.4546 L1787.8233,757.4546 L1777.8233,747.4546" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="127.2451" x="1614.17" y="765.5244">SPARK_Mode: On</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="138.5566" x="1614.17" y="781.3238">- Generic over Writer</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="127.626" x="1614.17" y="797.1231">- Depends ONLY on</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="127.6641" x="1623.3106" y="812.9224">Application/Domain</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="5.9033" x="1614.17" y="828.7217">-</text><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="136.8428" x="1624.6436" y="828.7217">Formally verifiable</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="158.6533" x="1614.17" y="844.521">- No Infrastructure deps</text></g><!--entity CW--><g class="entity" data-entity="CW" data-source-line="71" data-uid="ent0032" id="entity_CW"><rect fill="#FFFFFF" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="147.4951" x="2392.25" y="776.3546"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="2519.7451" y="781.3546"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="2517.7451" y="783.3546"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="2517.7451" y="787.3546"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="107.4951" x="2407.25" y="810.4298">Console_Writer</text></g><!--entity UW--><g class="entity" data-entity="UW" data-source-line="72" data-uid="ent0033" id="entity_UW"><rect fill="#FFFFFF" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="130.5693" x="2785.72" y="776.3546"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="2896.2893" y="781.3546"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="2894.2893" y="783.3546"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="2894.2893" y="787.3546"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="90.5693" x="2800.72" y="810.4298">UART_Writer</text></g><!--entity DW--><g class="entity" data-entity="DW" data-source-line="73" data-uid="ent0034" id="entity_DW"><rect fill="#FFFFFF" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="125.9961" x="2600" y="776.3546"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="2705.9961" y="781.3546"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="2703.9961" y="783.3546"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="2703.9961" y="787.3546"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="85.9961" x="2615" y="810.4298">DOM_Writer</text></g><!--entity UC--><g class="entity" data-entity="UC" data-source-line="77" data-uid="ent0036" id="entity_UC"><rect fill="#FFFFFF" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="111.9141" x="1950.04" y="952.2546"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="2041.9541" y="957.2546"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="2039.9541" y="959.2546"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="2039.9541" y="963.2546"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="71.9141" x="1965.04" y="986.3298">Use Cases</text></g><!--entity Ports--><g class="entity" data-entity="Ports" data-source-line="78" data-uid="ent0037" id="entity_Ports"><rect fill="#FFFFFF" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="75.7246" x="2300.14" y="952.2546"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="2355.8646" y="957.2546"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="2353.8646" y="959.2546"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="2353.8646" y="963.2546"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="35.7246" x="2315.14" y="986.3298">Ports</text></g><!--entity Cmds--><g class="entity" data-entity="Cmds" data-source-line="79" data-uid="ent0038" id="entity_Cmds"><rect fill="#FFFFFF" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="118.791" x="2121.6" y="952.2546"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="2220.391" y="957.2546"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="2218.391" y="959.2546"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="2218.391" y="963.2546"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="78.791" x="2136.6" y="986.3298">Commands</text></g><!--entity VOs--><g class="entity" data-entity="VOs" data-source-line="83" data-uid="ent0040" id="entity_VOs"><rect fill="#FFFFFF" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="136.9473" x="1937.53" y="1079.2746"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="2054.4773" y="1084.2746"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="2052.4773" y="1086.2746"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="2052.4773" y="1090.2746"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="96.9473" x="1952.53" y="1113.3498">Value Objects</text></g><!--entity Errors--><g class="entity" data-entity="Errors" data-source-line="84" data-uid="ent0041" id="entity_Errors"><rect fill="#FFFFFF" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="140.1602" x="2134.92" y="1079.2746"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="2255.0802" y="1084.2746"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="2253.0802" y="1086.2746"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="2253.0802" y="1090.2746"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="100.1602" x="2149.92" y="1113.3498">Error + Result</text></g><g class="entity" data-entity="GMN58" data-source-line="119" data-uid="ent0059" id="entity_GMN58"><path d="M11,531.0646 L11,667.4591 L487,667.4591 L487,541.0646 L477,531.0646 L11,531.0646" fill="#CCFFCC" style="stroke:#000000;stroke-width:1;"/><path d="M477,531.0646 L477,541.0646 L487,541.0646 L477,531.0646" fill="#CCFFCC" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="212.2656" x="17" y="549.1344">SPARK Verification Boundary</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="455" x="17" y="564.9337">&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="224.269" x="17" y="580.7331">Everything INSIDE this package is</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="123.6714" x="17" y="596.5324">formally verifiable:</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="108.4116" x="17" y="612.3317">- API.Operations</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="152.9341" x="17" y="628.131">- Application.Usecase.*</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="166.1943" x="17" y="643.9303">- Application.Command.*</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="73.6201" x="17" y="659.7296">- Domain.*</text></g><g class="entity" data-entity="GMN61" data-source-line="130" data-uid="ent0062" id="entity_GMN61"><path d="M1856,747.4546 L1856,852.2505 L2332,852.2505 L2332,757.4546 L2322,747.4546 L1856,747.4546" fill="#FFCCCC" style="stroke:#000000;stroke-width:1;"/><path d="M2322,747.4546 L2322,757.4546 L2332,757.4546 L2322,747.4546" fill="#FFCCCC" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="184.0947" x="1862" y="765.5244">Outside SPARK Boundary</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="455" x="1862" y="781.3238">&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="132.9897" x="1862" y="797.1231">Contains I/O wiring:</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="208.146" x="1862" y="812.9224">- API.Desktop (and other roots)</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="121.564" x="1862" y="828.7217">- API (thin facade)</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="114.1753" x="1862" y="844.521">- Infrastructure.*</text></g><!--link Desktop to GMN17--><g class="link" data-entity-1="Desktop" data-entity-2="GMN17" data-source-line="40" data-uid="lnk19" id="link_Desktop_GMN17"><path d="M647.93,623.2046 C647.93,626.7746 647.93,629.2846 647.93,629.2846 C647.93,629.2846 788.33,629.2846 892.8,629.2846" fill="none" id="Desktop-GMN17" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"/></g><!--link Web to GMN23--><g class="link" data-entity-1="Web" data-entity-2="GMN23" data-source-line="52" data-uid="lnk25" id="link_Web_GMN23"><path d="M810.17,575.4046 C810.17,561.7346 810.17,547.2846 810.17,547.2846 C810.17,547.2846 1259,547.2846 1259,547.2846 C1259,547.2846 1259,563.7346 1259,578.1246" fill="none" id="Web-GMN23" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"/></g><!--link Main to API--><g class="link" data-entity-1="Main" data-entity-2="API" data-source-line="88" data-uid="lnk42" id="link_Main_API"><path d="M637,205.4046 C637,248.4646 637,333.2446 637,376.5746" fill="none" id="Main-to-API" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="637,382.5746,641,373.5746,637,377.5746,633,373.5746,637,382.5746" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="49.645" x="587" y="291.0544">imports</text></g><!--link API to Desktop--><g class="link" data-entity-1="API" data-entity-2="Desktop" data-source-line="91" data-uid="lnk43" id="link_API_Desktop"><path d="M610.13,430.1946 C610.13,467.1746 610.13,532.3346 610.13,569.4446" fill="none" id="API-to-Desktop" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="610.13,575.4446,614.13,566.4446,610.13,570.4446,606.13,566.4446,610.13,575.4446" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="103.5112" x="506.13" y="499.8844">delegates Greet</text></g><!--link Desktop to Operations--><g class="link" data-entity-1="Desktop" data-entity-2="Operations" data-source-line="94" data-uid="lnk44" id="link_Desktop_Operations"><path d="M572.07,623.1246 C572.07,677.7646 572.07,807.2846 572.07,807.2846 C572.07,807.2846 1180.92,807.2846 1395.87,807.2846" fill="none" id="Desktop-to-Operations" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="1401.87,807.2846,1392.87,803.2846,1396.87,807.2846,1392.87,811.2846,1401.87,807.2846" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="107.9863" x="786.89" y="804.3544">instantiates with</text></g><!--link Desktop to CW--><g class="link" data-entity-1="Desktop" data-entity-2="CW" data-source-line="95" data-uid="lnk45" id="link_Desktop_CW"><path d="M622.64,623.1946 C622.64,635.6446 622.64,648.2846 622.64,648.2846 C622.64,648.2846 2466,648.2846 2466,648.2846 C2466,648.2846 2466,727.5446 2466,770.1746" fill="none" id="Desktop-to-CW" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="2466,776.1746,2470,767.1746,2466,771.1746,2462,767.1746,2466,776.1746" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="139.3818" x="1455.72" y="645.3544">Console_Writer.Write</text></g><!--link Embedded to Operations--><g class="link" data-entity-1="Embedded" data-entity-2="Operations" data-source-line="97" data-uid="lnk46" id="link_Embedded_Operations"><path d="M1510.76,623.0646 C1510.76,661.6646 1510.76,731.5046 1510.76,770.0946" fill="none" id="Embedded-to-Operations" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="1510.76,776.0946,1514.76,767.0946,1510.76,771.0946,1506.76,767.0946,1510.76,776.0946" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="107.9863" x="1402.76" y="696.6444">instantiates with</text></g><!--link Embedded to UW--><g class="link" data-entity-1="Embedded" data-entity-2="UW" data-source-line="98" data-uid="lnk47" id="link_Embedded_UW"><path d="M1439.24,623.2046 C1439.24,626.7746 1439.24,629.2846 1439.24,629.2846 C1439.24,629.2846 2851,629.2846 2851,629.2846 C2851,629.2846 2851,723.2746 2851,770.1446" fill="none" id="Embedded-to-UW" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="2851,776.1446,2855,767.1446,2851,771.1446,2847,767.1446,2851,776.1446" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="123.665" x="2091.51" y="626.3544">UART_Writer.Write</text></g><!--link Web to Operations--><g class="link" data-entity-1="Web" data-entity-2="Operations" data-source-line="100" data-uid="lnk48" id="link_Web_Operations"><path d="M766.35,622.9346 C766.35,674.4746 766.35,792.2846 766.35,792.2846 C766.35,792.2846 1214.77,792.2846 1395.83,792.2846" fill="none" id="Web-to-Operations" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="1401.83,792.2846,1392.83,788.2846,1396.83,792.2846,1392.83,796.2846,1401.83,792.2846" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="107.9863" x="1000.41" y="789.3544">instantiates with</text></g><!--link Web to DW--><g class="link" data-entity-1="Web" data-entity-2="DW" data-source-line="101" data-uid="lnk49" id="link_Web_DW"><path d="M799.65,623.0346 C799.65,632.9846 799.65,642.2846 799.65,642.2846 C799.65,642.2846 2663,642.2846 2663,642.2846 C2663,642.2846 2663,725.8446 2663,769.9246" fill="none" id="Web-to-DW" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="2663,775.9246,2667,766.9246,2663,770.9246,2659,766.9246,2663,775.9246" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="119.4185" x="1668.52" y="639.3544">DOM_Writer.Write</text></g><!--link Operations to UC--><g class="link" data-entity-1="Operations" data-entity-2="UC" data-source-line="104" data-uid="lnk50" id="link_Operations_UC"><path d="M1475,823.5146 C1475,871.4046 1475,975.2846 1475,975.2846 C1475,975.2846 1807.02,975.2846 1943.68,975.2846" fill="none" id="Operations-to-UC" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="1949.68,975.2846,1940.68,971.2846,1944.68,975.2846,1940.68,979.2846,1949.68,975.2846" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="108.5386" x="1527.45" y="972.3544">Application layer</text></g><!--link Operations to Cmds--><g class="link" data-entity-1="Operations" data-entity-2="Cmds" data-source-line="105" data-uid="lnk51" id="link_Operations_Cmds"><path d="M1511.37,823.6146 C1511.37,853.8746 1511.37,902.2846 1511.37,902.2846 C1511.37,902.2846 2181,902.2846 2181,902.2846 C2181,902.2846 2181,924.6246 2181,946.1046" fill="none" id="Operations-to-Cmds" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="2181,952.1046,2185,943.1046,2181,947.1046,2177,943.1046,2181,952.1046" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="29.5166" x="1801.76" y="899.3544">uses</text></g><!--link Operations to VOs--><!--link CW to Ports--><g class="link" data-entity-1="CW" data-entity-2="Ports" data-source-line="109" data-uid="lnk53" id="link_CW_Ports"><path d="M2391.87,800.2846 C2371.03,800.2846 2353.93,800.2846 2353.93,800.2846 C2353.93,800.2846 2353.93,898.1946 2353.93,946.0946" fill="none" id="CW-to-Ports" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="2353.93,952.0946,2357.93,943.0946,2353.93,947.0946,2349.93,943.0946,2353.93,952.0946" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="121.0879" x="2231.93" y="871.2944">implements Writer</text></g><!--link UW to Ports--><g class="link" data-entity-1="UW" data-entity-2="Ports" data-source-line="110" data-uid="lnk54" id="link_UW_Ports"><path d="M2851,823.8346 C2851,873.5546 2851,983.2846 2851,983.2846 C2851,983.2846 2501.03,983.2846 2382.14,983.2846" fill="none" id="UW-to-Ports" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="2376.14,983.2846,2385.14,987.2846,2381.14,983.2846,2385.14,979.2846,2376.14,983.2846" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="121.0879" x="2571.29" y="997.3544">implements Writer</text></g><!--link DW to Ports--><g class="link" data-entity-1="DW" data-entity-2="Ports" data-source-line="111" data-uid="lnk55" id="link_DW_Ports"><path d="M2663,823.6346 C2663,870.0546 2663,968.2846 2663,968.2846 C2663,968.2846 2468.15,968.2846 2382.24,968.2846" fill="none" id="DW-to-Ports" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="2376.24,968.2846,2385.24,972.2846,2381.24,968.2846,2385.24,964.2846,2376.24,968.2846" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="121.0879" x="2469.95" y="965.3544">implements Writer</text></g><!--link UC to VOs--><g class="link" data-entity-1="UC" data-entity-2="VOs" data-source-line="114" data-uid="lnk56" id="link_UC_VOs"><path d="M2006,999.6546 C2006,1022.3646 2006,1050.3246 2006,1072.9946" fill="none" id="UC-to-VOs" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="2006,1078.9946,2010,1069.9946,2006,1073.9946,2002,1069.9946,2006,1078.9946" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="96.1035" x="1909" y="1036.3944">creates Person</text></g><!--link Ports to Errors--><g class="link" data-entity-1="Ports" data-entity-2="Errors" data-source-line="115" data-uid="lnk57" id="link_Ports_Errors"><path d="M2299.75,975.2846 C2279.08,975.2846 2257.74,975.2846 2257.74,975.2846 C2257.74,975.2846 2257.74,1035.8646 2257.74,1072.7946" fill="none" id="Ports-to-Errors" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="2257.74,1078.7946,2261.74,1069.7946,2257.74,1073.7946,2253.74,1069.7946,2257.74,1078.7946" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="74.5596" x="2182.74" y="1020.1044">uses Result</text></g><!--link GMN58 to Operations--><g class="link" data-entity-1="GMN58" data-entity-2="Operations" data-source-line="119" data-uid="lnk60" id="link_GMN58_Operations"><path d="M487.2,661.2846 C843.8,661.2846 1475,661.2846 1475,661.2846 C1475,661.2846 1475,736.4146 1475,776.0346" fill="none" id="GMN58-Operations" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"/></g><!--link Desktop to GMN61--><g class="link" data-entity-1="Desktop" data-entity-2="GMN61" data-source-line="130" data-uid="lnk63" id="link_Desktop_GMN61"><path d="M597.36,623.0246 C597.36,638.2946 597.36,655.2846 597.36,655.2846 C597.36,655.2846 2094,655.2846 2094,655.2846 C2094,655.2846 2094,705.9146 2094,747.2546" fill="none" id="Desktop-GMN61" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"/></g><g class="legend" data-source-line="138"><rect fill="none" height="605.5127" rx="7.5" ry="7.5" style="stroke:#000000;stroke-width:1;" width="556" x="2364" y="1153.2846"/><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="172.1426" x="2369" y="1172.3598">Why Three Packages?</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="546" x="2369" y="1189.3745">&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="4.9219" x="2369" y="1206.3891">&#160;</text><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="254.0303" x="2369" y="1223.4038">1. API.Operations (SPARK-Safe)</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="247.9805" x="2369" y="1240.4184">&#8226; Generic, parameterized by Writer</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="280.0205" x="2369" y="1257.433">&#8226; SPARK_Mode: On - formally verifiable</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="281.1279" x="2369" y="1274.4477">&#8226; Depends ONLY on Application/Domain</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="244.542" x="2369" y="1291.4623">&#8226; Shared by ALL composition roots</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="4.9219" x="2369" y="1308.477">&#160;</text><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="277.1563" x="2369" y="1325.4916">2. API.Desktop (Composition Root)</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="336.3486" x="2369" y="1342.5063">&#8226; Instantiates Operations with concrete adapter</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="288.5586" x="2369" y="1359.5209">&#8226; SPARK_Mode: Off - contains I/O wiring</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="349.1182" x="2369" y="1376.5356">&#8226; Located in api/desktop/ (arch_guard exception)</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="213.9648" x="2369" y="1393.5502">&#8226; One root per target platform</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="4.9219" x="2369" y="1410.5649">&#160;</text><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="162.7637" x="2369" y="1427.5795">3. API (Thin Facade)</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="253.9277" x="2369" y="1444.5942">&#8226; Re-exports types for single import</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="271.0723" x="2369" y="1461.6088">&#8226; Delegates to Desktop (or other root)</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="281.4561" x="2369" y="1478.6235">&#8226; SPARK_Mode: Off - orchestration only</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="169.5791" x="2369" y="1495.6381">&#8226; Stable public interface</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="4.9219" x="2369" y="1512.6528">&#160;</text><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="149.8301" x="2369" y="1529.6674">Platform Flexibility</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="546" x="2369" y="1546.6821">&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="294.7861" x="2369" y="1563.6967">&#8226; Desktop: Console_Writer (Ada.Text_IO)</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="306.7217" x="2369" y="1580.7114">&#8226; Embedded: UART_Writer (STM32.USART)</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="244.3369" x="2369" y="1597.726">&#8226; Web: DOM_Writer (Browser API)</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="272.248" x="2369" y="1614.7407">&#8226; Test: Mock_Writer (captured output)</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="4.9219" x="2369" y="1631.7553">&#160;</text><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="90.8359" x="2369" y="1648.77">Key Insight</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="546" x="2369" y="1665.7846">&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="248.9307" x="2369" y="1682.7993">Business logic in API.Operations is:</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="141.8145" x="2369" y="1699.8139">&#9989; SPARK-verifiable</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="216.21" x="2369" y="1716.8286">&#9989; Shared across all platforms</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="175.4268" x="2369" y="1733.8432">&#9989; Zero code duplication</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="152.1162" x="2369" y="1750.8579">&#9989; Compile-time safe</text></g><!--SRC=[nLXBRnit4BxlhvWwXqXE9Bj9OyGgsa9UIQaHEnByYD0N56gNabYlbWkI6rij0lJIUo-zzTIVbb_IuMjVKbAVagA0jPpXaFFncu_3VA5MT4qXImXB0td3qem8ieQ4fLHjCWfSg1Ml658UKqapE3gi30gItkZ1vuT1e9XAA5oj1AMT2Obko992Vt8A4w8K5UdFwUMaV_4INbF15YmYYl4K7i4a8Mh1nHf62RrZSvOmjGc2pCtV2tagypKLqC-onCtQ0oAXC3mO7ev6mqFuFG28-3hZAKqLx9rZMZ0HFA9nBgYPeeVGAUMAWc3BbGA-y8C0Rzwy8J4nFs-PMi7tcxbWyUoCpMVzc7Gnaw-DCPTqfyqOmtKClMyW59GeEdk1KAXPoDThaiRGskjZ1dIlRUDSK9adIdiRDsZXN6V2hU1VYdFqNeDt5Jmqe6TaGuN92B_C1pn024x20OA04slEhQiL0Z4Y4Obfsq-odmQo6cZRUVaPPeMlJfwP6NK4qMf60VRtpH7Fpf4gFHWl5llxpjB1T3lqBaDIIHZmjJuSpJAvoruvweRJW2PqYSXAXvdYE2Hl5CyAbqkMBf66RArZGSPPgeojG1FWNGsaKASlcLdjWdCbJShcrpP0c6lNhMZSt6-Dpk3e-7YN-t0zft5CO-FlFpusOKhdnXV_5cuxOAyd_Z7efqnGMp0yeREfO5YEXR6Qli2a0OiHuWQeH4IhsJ8d8WPw5z5CUzTHtR51dsknmr6ki1HxSDs_k7BRA7PvUNN-zCbZe1uVHSIIAlc_Yo18M_47u_DcU7JhIudHaytkq4rM63GxbsH1OPnHOSXecM4iuqp2Wp0SZS9mDqaQayhF7JaqZ5k7cLREyWLDKJyZu6-nwXj7EQ0PveEBlJhx0Tm1wVygzNHWQw-OWg2Xzf84ONbhT9dC4rfPxXM7qtGXY5GYZpIwI8ri1tHLYMfCADNA69nU3Oz6JqUZfcZNEMfrVbftgP37sAyRzlBmRO5Ew_9PaPQAZ6QPtzRpqRFXSNDRroZv8P7KdkLrMBTEj6WPY_dLpCY8lxMZmilQTfmIbZkn0uMcZuw7HytDl2P9ZgIS_qeZj-phSMFHeH1On8_S5ME5Hm-PnH-MLoVAfnPlSrLsOdwRThurMjzpyYcrjnw8hUuQYkflx-pbh-Szl3BRPHhASii4YdFW9_aW9VtrmgbK95NCXDBty9PxE4MtEb6wvayG5Efwpz1R_jSwTeLXFh2Mudl6hBeETBYIa3xQmsgCs1GjJIE64LgsHPhpF8s9sBI3YcEnnn23LdcSQBRiyjHqGrziM6JD_DEAOTRfByvDqmVtr2XRP422_M6Ajw2b0kBk0nkUMvPu7oT5r_Tn6jp7IJElsWTmLni1vjyfTuvp8zDiOVLH8L7rR4ZlOddlK705eMFNWOOLQd6YzLWJrAYpfbnDcxtU1uK-rrlP4nVBgEVxl__wDF_ZMaDKxet2Bcy9fwykJmT3m0zPN6LCYyDYM-LxWHRu-brbXqhOkwXy4GfVTt_BueJDMUpPu4TvLniKvrmflgwqArhLmj2XECwLPDY7MZG_6u0e9WftZnVKmTY9L0cEttTBj_0Stqp2Y9biUmzeQUnXOJjiCrelfHegg9Bwmzpz1eFfQcFVJE3UJFAxJmj03GopfI-x3LeuNJBjKDlkxez_VIlo6CnJa6BHijzGI-URiY_HRlLM1j7PmKNdscXWTZSk9kQA2BjK_-pCtdoLYqRQD9vqwmVORFJBJ4whAbv9sxm38vwYmY2NyNMOVI2jnGBpYhPfv7pFE2Q1-qMQa8mTkExw03crewzkkqdZbDfhCzCtjUbPzMFTF9PjWa-xiFN2AtAglAVC6yhqzRBwE2f0zpTt-Pg25ZgNP6z_C6UE2L1akfL0dYORxwhqkKAMp_44CN443Yk4setlUlD_Hj9x74pgpTu2MlebV4NlrEnqx87mZKEjMS0gqO-OxlKbZdbFR0UgBG2qJWI_bVhVCoQdtkSA4Up1EOzk2gy8gPPhYlDSPJaUWC7j9Trehchj-AnmdUH892eb97nfJhUf5qng0Nt_pv-MCfrwfUjXMy0a4Xp3e1eKr9REuqSgE9OKtWvnNgY0i-bAPWdjABQc856KjC1QPGt-0m00]--></g></svg>