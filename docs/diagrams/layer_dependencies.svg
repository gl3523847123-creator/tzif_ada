<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="DESCRIPTION" height="1403px" preserveAspectRatio="none" style="width:1482px;height:1403px;background:#FFFFFF;" version="1.1" viewBox="0 0 1482 1403" width="1482px" zoomAndPan="magnify"><title>4-Layer Library Architecture
Hexagonal (Ports &amp; Adapters) + Clean + DDD</title><defs/><g><g class="title" data-source-line="6"><text fill="#000000" font-family="Verdana" font-size="22" font-weight="bold" lengthAdjust="spacing" textLength="350.5928" x="561.2563" y="37.1182">4-Layer Library Architecture</text><text fill="#000000" font-family="Verdana" font-size="22" font-weight="bold" lengthAdjust="spacing" textLength="564.0938" x="454.5059" y="63.8555">Hexagonal (Ports &amp; Adapters) + Clean + DDD</text></g><!--cluster API--><g class="cluster" data-entity="API" data-source-line="8" data-uid="ent0002" id="cluster_API"><path d="M43.5,85.4746 L121.6982,85.4746 A3.75,3.75 0 0 1 124.1982,87.9746 L131.1982,108.4893 L636.5,108.4893 A2.5,2.5 0 0 1 639,110.9893 L639,547.0946 A2.5,2.5 0 0 1 636.5,549.5946 L43.5,549.5946 A2.5,2.5 0 0 1 41,547.0946 L41,87.9746 A2.5,2.5 0 0 1 43.5,85.4746" fill="#FFEBCD" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="41" x2="131.1982" y1="108.4893" y2="108.4893"/><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="77.1982" x="45" y="101.5498">API Layer</text></g><!--cluster Infrastructure--><g class="cluster" data-entity="Infrastructure" data-source-line="21" data-uid="ent0009" id="cluster_Infrastructure"><path d="M681.5,421.4846 L843.2266,421.4846 A3.75,3.75 0 0 1 845.7266,423.9846 L852.7266,444.4993 L1453.5,444.4993 A2.5,2.5 0 0 1 1456,446.9993 L1456,560.1846 A2.5,2.5 0 0 1 1453.5,562.6846 L681.5,562.6846 A2.5,2.5 0 0 1 679,560.1846 L679,423.9846 A2.5,2.5 0 0 1 681.5,421.4846" fill="#E6F3FF" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="679" x2="852.7266" y1="444.4993" y2="444.4993"/><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="160.7266" x="683" y="437.5598">Infrastructure Layer</text></g><!--cluster Application--><g class="cluster" data-entity="Application" data-source-line="32" data-uid="ent0015" id="cluster_Application"><path d="M13.5,602.6846 L151.2803,602.6846 A3.75,3.75 0 0 1 153.7803,605.1846 L160.7803,625.6993 L690.5,625.6993 A2.5,2.5 0 0 1 693,628.1993 L693,917.2846 A2.5,2.5 0 0 1 690.5,919.7846 L13.5,919.7846 A2.5,2.5 0 0 1 11,917.2846 L11,605.1846 A2.5,2.5 0 0 1 13.5,602.6846" fill="#E8F5E9" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="11" x2="160.7803" y1="625.6993" y2="625.6993"/><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="136.7803" x="15" y="618.7598">Application Layer</text></g><!--cluster Domain--><g class="cluster" data-entity="Domain" data-source-line="45" data-uid="ent0022" id="cluster_Domain"><path d="M735.5,791.6846 L845.082,791.6846 A3.75,3.75 0 0 1 847.582,794.1846 L854.582,814.6993 L1453.5,814.6993 A2.5,2.5 0 0 1 1456,817.1993 L1456,1077.3946 A2.5,2.5 0 0 1 1453.5,1079.8946 L735.5,1079.8946 A2.5,2.5 0 0 1 733,1077.3946 L733,794.1846 A2.5,2.5 0 0 1 735.5,791.6846" fill="#FFF9E6" style="stroke:#000000;stroke-width:1;"/><line style="stroke:#000000;stroke-width:1;" x1="733" x2="854.582" y1="814.6993" y2="814.6993"/><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="108.582" x="737" y="807.7598">Domain Layer</text></g><!--entity Facade--><g class="entity" data-entity="Facade" data-source-line="9" data-uid="ent0003" id="entity_Facade"><rect fill="#FFFFFF" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="118.0459" x="432.98" y="150.4646"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="531.0259" y="155.4646"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="529.0259" y="157.4646"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="529.0259" y="161.4646"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="78.0459" x="447.98" y="184.5398">API Facade</text></g><!--entity Desktop--><g class="entity" data-entity="Desktop" data-source-line="10" data-uid="ent0004" id="entity_Desktop"><rect fill="#FFFFFF" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="126.4404" x="424.78" y="318.4746"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="531.2204" y="323.4746"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="529.2204" y="325.4746"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="529.2204" y="329.4746"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="86.4404" x="439.78" y="352.5498">API.Desktop</text></g><!--entity Operations--><g class="entity" data-entity="Operations" data-source-line="11" data-uid="ent0005" id="entity_Operations"><rect fill="#FFFFFF" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="145.4717" x="405.26" y="478.5846"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="530.7317" y="483.5846"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="528.7317" y="485.5846"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="528.7317" y="489.5846"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="105.4717" x="420.26" y="512.6598">API.Operations</text></g><g class="entity" data-entity="GMN6" data-source-line="13" data-uid="ent0007" id="entity_GMN6"><path d="M65.48,129.4746 L65.48,218.4712 L352.523,218.4712 L352.523,139.4746 L342.523,129.4746 L65.48,129.4746" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M342.523,129.4746 L342.523,139.4746 L352.523,139.4746 L342.523,129.4746" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="266.043" x="71.48" y="147.5444">Public Interface + Composition Root</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="235.917" x="71.48" y="163.3438">- API: Thin facade, re-exports types</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="242.0869" x="71.48" y="179.1431">- API.Desktop: Wires Console_Writer</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="259.4224" x="71.48" y="194.9424">- API.Operations: SPARK-safe (generic)</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="5.9033" x="71.48" y="210.7417">-</text><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="188.1636" x="81.9536" y="210.7417">Can depend on ALL layers</text></g><!--entity Adapters--><g class="entity" data-entity="Adapters" data-source-line="22" data-uid="ent0010" id="entity_Adapters"><rect fill="#FFFFFF" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="102.5488" x="1037.73" y="478.5846"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="1120.2788" y="483.5846"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1118.2788" y="485.5846"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1118.2788" y="489.5846"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="62.5488" x="1052.73" y="512.6598">Adapters</text></g><!--entity ConsoleWriter--><g class="entity" data-entity="ConsoleWriter" data-source-line="23" data-uid="ent0011" id="entity_ConsoleWriter"><rect fill="#FFFFFF" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="147.4951" x="1220.25" y="478.5846"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="1347.7451" y="483.5846"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1345.7451" y="485.5846"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1345.7451" y="489.5846"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="107.4951" x="1235.25" y="512.6598">Console_Writer</text></g><g class="entity" data-entity="GMN12" data-source-line="25" data-uid="ent0013" id="entity_GMN12"><path d="M702.51,465.4846 L702.51,538.6819 L957.4846,538.6819 L957.4846,475.4846 L947.4846,465.4846 L702.51,465.4846" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M947.4846,465.4846 L947.4846,475.4846 L957.4846,475.4846 L947.4846,465.4846" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="118.168" x="708.51" y="483.5544">Driven Adapters</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="175.8555" x="708.51" y="499.3538">- Implements Output Ports</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="191.2168" x="708.51" y="515.1531">- External system integration</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="233.9746" x="708.51" y="530.9524">- Depends on Application + Domain</text></g><!--entity UseCases--><g class="entity" data-entity="UseCases" data-source-line="33" data-uid="ent0016" id="entity_UseCases"><rect fill="#FFFFFF" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="111.9141" x="35.04" y="667.6746"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="126.9541" y="672.6746"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="124.9541" y="674.6746"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="124.9541" y="678.6746"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="71.9141" x="50.04" y="701.7498">Use Cases</text></g><!--entity Ports--><g class="entity" data-entity="Ports" data-source-line="34" data-uid="ent0017" id="entity_Ports"><rect fill="#FFFFFF" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="75.7246" x="227.14" y="667.6746"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="282.8646" y="672.6746"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="280.8646" y="674.6746"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="280.8646" y="678.6746"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="35.7246" x="242.14" y="701.7498">Ports</text></g><!--entity Commands--><g class="entity" data-entity="Commands" data-source-line="35" data-uid="ent0018" id="entity_Commands"><rect fill="#FFFFFF" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="118.791" x="34.6" y="848.7746"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="133.391" y="853.7746"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="131.391" y="855.7746"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="131.391" y="859.7746"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="78.791" x="49.6" y="882.8498">Commands</text></g><g class="entity" data-entity="GMN19" data-source-line="37" data-uid="ent0020" id="entity_GMN19"><path d="M383.01,646.6846 L383.01,735.6812 L604.9895,735.6812 L604.9895,656.6846 L594.9895,646.6846 L383.01,646.6846" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M594.9895,646.6846 L594.9895,656.6846 L604.9895,656.6846 L594.9895,646.6846" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="145.355" x="389.01" y="664.7544">Orchestration Layer</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="175.4937" x="389.01" y="680.5537">- Coordinates domain logic</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="146.4595" x="389.01" y="696.3531">- Defines Output Ports</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="183.6313" x="389.01" y="712.1524">- Commands for input DTOs</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="5.9033" x="389.01" y="727.9517">-</text><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="190.5059" x="399.4836" y="727.9517">Depends ONLY on Domain</text></g><!--entity VOs--><g class="entity" data-entity="VOs" data-source-line="46" data-uid="ent0023" id="entity_VOs"><rect fill="#FFFFFF" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="136.9473" x="1015.53" y="848.7746"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="1132.4773" y="853.7746"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1130.4773" y="855.7746"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1130.4773" y="859.7746"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="96.9473" x="1030.53" y="882.8498">Value Objects</text></g><!--entity DomainError--><g class="entity" data-entity="DomainError" data-source-line="47" data-uid="ent0024" id="entity_DomainError"><rect fill="#FFFFFF" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="134.377" x="1232.81" y="848.7746"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="1347.187" y="853.7746"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1345.187" y="855.7746"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1345.187" y="859.7746"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="94.377" x="1247.81" y="882.8498">Domain.Error</text></g><!--entity Result--><g class="entity" data-entity="Result" data-source-line="48" data-uid="ent0025" id="entity_Result"><rect fill="#FFFFFF" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="145.9912" x="1011" y="1008.8846"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="1136.9912" y="1013.8846"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1134.9912" y="1015.8846"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1134.9912" y="1019.8846"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="105.9912" x="1026" y="1042.9598">Generic_Result</text></g><!--entity Unit--><g class="entity" data-entity="Unit" data-source-line="49" data-uid="ent0026" id="entity_Unit"><rect fill="#FFFFFF" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="68.4648" x="1236.77" y="1008.8846"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1;" width="15" x="1285.2348" y="1013.8846"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1283.2348" y="1015.8846"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1;" width="4" x="1283.2348" y="1019.8846"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="28.4648" x="1251.77" y="1042.9598">Unit</text></g><g class="entity" data-entity="GMN27" data-source-line="51" data-uid="ent0028" id="entity_GMN27"><path d="M756.8,835.6846 L756.8,908.8819 L935.1901,908.8819 L935.1901,845.6846 L925.1901,835.6846 L756.8,835.6846" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M925.1901,835.6846 L925.1901,845.6846 L935.1901,845.6846 L925.1901,835.6846" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="145.3423" x="762.8" y="853.7544">Business Logic Core</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="154.6099" x="762.8" y="869.5537">- Pure domain concepts</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="140.1816" x="762.8" y="885.3531">- ZERO external deps</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="157.3901" x="762.8" y="901.1524">- Shareable across apps</text></g><!--link API to GMN6--><g class="link" data-entity-1="API" data-entity-2="GMN6" data-source-line="13" data-uid="lnk8" id="link_API_GMN6"><path d="M631,174.8146 C631,180.0346 631,207.8946 631,207.8946 C631,207.8946 475.05,207.8946 352.75,207.8946" fill="none" id="API-GMN6" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"/></g><!--link Infrastructure to GMN12--><g class="link" data-entity-1="Infrastructure" data-entity-2="GMN12" data-source-line="25" data-uid="lnk14" id="link_Infrastructure_GMN12"><path d="M1448,501.3446 C1448,496.6946 1448,471.8946 1448,471.8946 C1448,471.8946 1138.64,471.8946 957.68,471.8946" fill="none" id="Infrastructure-GMN12" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"/></g><!--link Application to GMN19--><g class="link" data-entity-1="Application" data-entity-2="GMN19" data-source-line="37" data-uid="lnk21" id="link_Application_GMN19"><path d="M684.45,690.8946 C679.67,690.8946 644.29,690.8946 605.29,690.8946" fill="none" id="Application-GMN19" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"/></g><!--link Domain to GMN27--><g class="link" data-entity-1="Domain" data-entity-2="GMN27" data-source-line="51" data-uid="lnk29" id="link_Domain_GMN27"><path d="M1448,873.0146 C1448,877.5746 1448,901.8946 1448,901.8946 C1448,901.8946 1103.17,901.8946 935.48,901.8946" fill="none" id="Domain-GMN27" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"/></g><!--link Facade to Desktop--><g class="link" data-entity-1="Facade" data-entity-2="Desktop" data-source-line="59" data-uid="lnk30" id="link_Facade_Desktop"><path d="M492,197.6946 C492,229.6246 492,280.1146 492,312.1146" fill="none" id="Facade-to-Desktop" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="492,318.1146,496,309.1146,492,313.1146,488,309.1146,492,318.1146" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="62.7021" x="429" y="254.9744">delegates</text></g><!--link Desktop to Operations--><g class="link" data-entity-1="Desktop" data-entity-2="Operations" data-source-line="60" data-uid="lnk31" id="link_Desktop_Operations"><path d="M487.76,365.9546 C487.76,396.2246 487.76,441.9946 487.76,472.2146" fill="none" id="Desktop-to-Operations" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="487.76,478.2146,491.76,469.2146,487.76,473.2146,483.76,469.2146,487.76,478.2146" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="75.8608" x="411.76" y="419.1544">instantiates</text></g><!--link Desktop to Infrastructure--><g class="link" data-entity-1="Desktop" data-entity-2="Infrastructure" data-source-line="61" data-uid="lnk32" id="link_Desktop_Infrastructure"><path d="M551.49,341.8946 C769.33,341.8946 1473,341.8946 1473,341.8946 C1473,341.8946 1473,501.8946 1473,501.8946 C1473,501.8946 1467.8675,501.8946 1462.2538,501.8946 C1460.8503,501.8946 1459.4168,501.8946 1458.0259,501.8946 C1457.6781,501.8946 1457.3331,501.8946 1456.9918,501.8946 C1456.8212,501.8946 1456.6515,501.8946 1456.4829,501.8946 C1456.3986,501.8946 1456.3146,501.8946 1456.2308,501.8946 C1456.189,501.8946 1462.1472,501.8946 1462.1055,501.8946" fill="none" id="Desktop-to-Infrastructure" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="1456.1055,501.8946,1465.1055,505.8946,1461.1055,501.8946,1465.1055,497.8946,1456.1055,501.8946" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="34.271" x="1069.44" y="338.9644">wires</text></g><!--link Operations to Application--><g class="link" data-entity-1="Operations" data-entity-2="Application" data-source-line="63" data-uid="lnk33" id="link_Operations_Application"><path d="M550.98,501.8946 C610.58,501.8946 685,501.8946 685,501.8946 C685,501.8946 685,545.5921 685,590.9971 C685,593.8349 685,596.6794 685,599.5203 C685,600.2305 685,617.9552 685,618.6648" fill="none" id="Operations-to-Application" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="685,624.6648,689,615.6648,685,619.6648,681,615.6648,685,624.6648" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="100.8643" x="584" y="526.1744">uses Use Cases</text></g><!--link Operations to Domain--><!--link Infrastructure to Application--><g class="link" data-entity-1="Infrastructure" data-entity-2="Application" data-source-line="66" data-uid="lnk35" id="link_Infrastructure_Application"><path d="M1394.17,563.2138 C1394.17,563.5933 1394.17,563.9737 1394.17,564.355 C1394.17,565.8802 1394.17,567.42 1394.17,568.9727 C1394.17,581.3946 1394.17,594.6446 1394.17,607.8946 C1394.17,660.8946 1394.17,713.8946 1394.17,713.8946 C1394.17,713.8946 1216.8775,713.8946 1039.585,713.8946 C950.9388,713.8946 862.2925,713.8946 795.8078,713.8946 C762.5655,713.8946 734.8635,713.8946 715.4721,713.8946 C710.6243,713.8946 706.2959,713.8946 702.5301,713.8946 C700.6473,713.8946 698.9051,713.8946 697.309,713.8946 C696.5109,713.8946 695.7494,713.8946 695.0251,713.8946 C694.6629,713.8946 700.31,713.8946 699.9665,713.8946" fill="none" id="Infrastructure-to-Application" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="693.9665,713.8946,702.9665,717.8946,698.9665,713.8946,702.9665,709.8946,693.9665,713.8946" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="163.4775" x="997.12" y="710.9644">implements Output Ports</text></g><!--link Infrastructure to Domain--><g class="link" data-entity-1="Infrastructure" data-entity-2="Domain" data-source-line="67" data-uid="lnk36" id="link_Infrastructure_Domain"><path d="M1448,563.349 C1448,563.8772 1448,564.4079 1448,564.941 C1448,599.0605 1448,643.2027 1448,687.3334 C1448,709.3987 1448,731.4611 1448,752.2663 C1448,762.669 1448,772.7573 1448,782.3746 C1448,784.7789 1448,787.1538 1448,789.4967 C1448,790.0825 1448,807.6809 1448,808.2626" fill="none" id="Infrastructure-to-Domain" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="1448,814.2626,1452,805.2626,1448,809.2626,1444,805.2626,1448,814.2626" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="124.1094" x="1323" y="684.2644">uses Value Objects</text></g><!--link Application to Domain--><g class="link" data-entity-1="Application" data-entity-2="Domain" data-source-line="69" data-uid="lnk37" id="link_Application_Domain"><path d="M693.0702,690.8946 C694.3816,690.8946 695.8455,690.8946 697.4566,690.8946 C703.9009,690.8946 712.6999,690.8946 723.511,690.8946 C745.133,690.8946 774.8033,690.8946 809.7809,690.8946 C879.7362,690.8946 970.9212,690.8946 1061.41,690.8946 C1242.3875,690.8946 1420.58,690.8946 1420.58,690.8946 C1420.58,690.8946 1420.58,736.1446 1420.58,781.3946 C1420.58,784.2227 1420.58,787.0509 1420.58,789.8679 C1420.58,790.2201 1420.58,807.5867 1420.58,807.9385" fill="none" id="Application-to-Domain" style="stroke:#000000;stroke-width:1;"/><polygon fill="#000000" points="1420.58,813.9385,1424.58,804.9385,1420.58,808.9385,1416.58,804.9385,1420.58,813.9385" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="81.0723" x="1006.9503" y="619.9644">orchestrates</text><path d="M942.93,628.6939 L942.93,685.6939 L1151.93,685.6939 L1151.93,638.6939 L1141.93,628.6939 L942.93,628.6939" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><path d="M1141.93,628.6939 L1141.93,638.6939 L1151.93,638.6939 L1141.93,628.6939" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="157.2949" x="948.93" y="646.7638">API.Operations depends</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="188.1128" x="948.93" y="662.5631">ONLY on Application/Domain</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="154.4258" x="948.93" y="678.3624">(SPARK-safe boundary)</text></g><g class="legend" data-source-line="78"><rect fill="none" height="299.249" rx="7.5" ry="7.5" style="stroke:#000000;stroke-width:1;" width="500" x="963.1055" y="1090.8946"/><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="260.1484" x="968.1055" y="1109.9698">Key Architectural Rules (Library)</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="490" x="968.1055" y="1126.9845">&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="19" x="968.1055" y="1143.9991">&#9989;</text><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="361.751" x="992.0273" y="1143.9991">API.Operations &#8594; Application + Domain ONLY</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="231.8955" x="982.8711" y="1161.0138">(SPARK-safe, formally verifiable)</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="19" x="968.1055" y="1178.0284">&#9989;</text><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="150.5068" x="992.0273" y="1178.0284">API.Desktop &#8594; ALL</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="130.6006" x="1147.4561" y="1178.0284">(composition root)</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="297.8789" x="968.1055" y="1195.043">&#9989; Infrastructure &#8594; Application + Domain</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="178.8926" x="968.1055" y="1212.0577">&#9989; Application &#8594; Domain</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="4.9219" x="968.1055" y="1229.0723">&#160;</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="19" x="968.1055" y="1246.087">&#10060;</text><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="23.7549" x="992.0273" y="1246.087">NO</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="227.001" x="1020.7041" y="1246.087">API.Operations &#8594; Infrastructure</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="19" x="968.1055" y="1263.1016">&#10060;</text><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="23.7549" x="992.0273" y="1263.1016">NO</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="139.207" x="1020.7041" y="1263.1016">Domain &#8594; anything</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="4.9219" x="968.1055" y="1280.1163">&#160;</text><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="171.2061" x="968.1055" y="1297.1309">Library vs Application</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="490" x="968.1055" y="1314.1456">&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;&#9552;</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="330.9893" x="968.1055" y="1331.1602">&#8226; Library: 4 layers (no Bootstrap/Presentation)</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="232.1826" x="968.1055" y="1348.1749">&#8226; API.Desktop fills Bootstrap role</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="222.0039" x="968.1055" y="1365.1895">&#8226; Consumers import API facade</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="266.7998" x="968.1055" y="1382.2042">&#8226; Domain is shareable across projects</text></g><!--SRC=[lLPDZzis4BthLqopG6ExSR95qo3neO3N7waHOsquQHRzGa1BOvjTYHH8QhD6KQ2NzjH3KQ2tzjAVbb_I8KN9b6nV0nYmI3uEPzwy6V8JiyCC8KyP5v6-vI9dYcMGSe5cdoD8PNOoM10oGOqvFByC9XKJjtRoyylBA3BSf0XF-tEsHmLplbPCxM6euXqt69j2uG_YQxndMobO2fqbdQ3XKnWcB3UeT1S-Wr6AJD3_U3oEefp5jsoBy62ud84p-W2O1Zkwc4udLwCn_1m1n3BBfK1XIk2KnIn1Xom_Zo2FnwXlZSmTndyVWnOvAcQu5DhX3aE22caG5D_k3CYDTOZc07gzPR5EUGmpGV5iM8ms8cjLSxiJLbAQNizX-tRN0Dxik82DS_CHAEpZVUvOiHdG1s3byG1kk49DHeMMARwxKSIi2d07BmVmUZbSlUfhja7eR56Wud7NGtkz4T6SO8uY0N9iE9z3QWdMpZqxQqECVWcIC1CRnRHHXSjaa8_MmiNasVIBwVGeDJxBPGhze0bfHkM0VggEiqbyysIVWx7YToZg8sg-PrcUak05iRieJ5uOS0BqgvDx0bjPwhqsc06d56vBAZrYxDZIZguyfpIxHQjLcTaIEaDRY0qq7CnUJ9vFlvoyQ1FsZKOOCOqbOpHoWoR6HU3MgrWQT6OP8uyzaUNWMBm7Jpo12ofO95O3dsiIHrAgX0jcI8I9YnjIkULnpT66siT9WYi7O2CLiMkNnsyMkXPaHU_YUlwjvRXazRmSo_M0KZz1dM7wOlAipUPRbXO8Y_LFr8XAHjukMdoL1XvFb9AXHJTk8b-MrVHkXRf8ZSEMdwqC2bukseyZuclPMCwl2cs9qp2tR19P2clEbxQgFDcn537cDQdVJLOBm4gwLC_LmkiTKyZMr8vPh2JPPRbR2wbyw2MD8kQKixxh0haavSFi-cQu6aCdHjl9-XgHElws6vKD5Vg9V2_wNrMz4mPqT8fRgugecgimXuv4C2wqOSBmayXM7nd0UzlheYYmK473yXb0GNK1TRaqyD_lU481_bWvN78UjOuwRPQVQHXdDdlzUNSQUekYqFBH1baNd0tt8Rp2FR33hKcPjIdJaTCF6Q0h-fPosUptlflR95Sb51pwf5PR9xWMrh8G2TtHtQZMHKHvj0CdqyXAqtepR7YpAbAAiECl-AuJweU___muFtlMFx-HNwtmF_p-ryc-xDZmjHG6_yWseeobwHxkg9Wtt5PBjs6z4gWpFP_tUbGGmMskw3QlDhGqSSuPZmwNBBII9Qt- -mSTVhsWiqx4TtJV1N0VhOKniJVqhjX6Bd_LE-okSUjy_AJz-b_r91p0K__QW8wGS4KyMlNdJvPKxrHlpi6ktnCcOiFJL1_mb84KFSm-58hCcgIofJ9rhyHDzVwp24yGrw3RpJ5NignJKdwf_-X_]--></g></svg>